<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="canonical" href="https://gaming-with-fahim.pages.dev/">
 
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Math Mania! ðŸ§ </title>
      <!--GA4-->
    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-MC9MB92PM9"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-MC9MB92PM9');
</script>
<!--Hiltop video slider05-->
<script>
(function(muz){
var d = document,
    s = d.createElement('script'),
    l = d.scripts[d.scripts.length - 1];
s.settings = muz || {};
s.src = "\/\/tatteredpassenger.com\/bRXzV.sbdZGBlQ0nY\/W-cY\/deHmf9Wu\/ZmUilMkQPaTNYL3AMbDXMnypOfT\/AVtgN\/jlcqwQMJzbIy5zMfQF";
s.async = true;
s.referrerPolicy = 'no-referrer-when-downgrade';
l.parentNode.insertBefore(s, l);
})({})
</script>


<!--Adsterra popunder-->
<script type='text/javascript' src='//underpantsjokeimmunity.com/91/03/ce/9103ce3526ee254e8a2194e4110307c8.js'></script>


    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                    colors: {
                        // Define dark slate colors for better readability
                        'slate-900-dark': '#0f172a',
                        'slate-800-dark': '#1e293b',
                    }
                }
            }
        }
    </script>
    <!-- Load Tone.js for sound effects (since external MP3s are not supported) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.49/Tone.min.js"></script>

    <!-- Custom CSS for Animations -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700;800&display=swap');
        
        /* New Dark Background */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0f172a; /* Slate 900 Dark */
            color: #e2e8f0; /* Light text for contrast */
        }

        /* Keyframe for Correct Answer Flash (Green) */
        @keyframes flash-green {
            0% { transform: scale(1.02); box-shadow: 0 0 10px 5px rgba(52, 211, 153, 0.7); /* Lighter Green */ }
            50% { transform: scale(1.01); }
            100% { transform: scale(1); box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.5), 0 10px 10px -5px rgba(0, 0, 0, 0.2); }
        }

        /* Keyframe for Wrong Answer Flash (Red) */
        @keyframes flash-red {
            0% { transform: scale(1.02); box-shadow: 0 0 10px 5px rgba(252, 165, 165, 0.7); /* Lighter Red */ }
            50% { transform: scale(1.01); }
            100% { transform: scale(1); box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.5), 0 10px 10px -5px rgba(0, 0, 0, 0.2); }
        }

        .flash-correct {
            animation: flash-green 0.3s ease-out;
        }

        .flash-wrong {
            animation: flash-red 0.3s ease-out;
        }
    </style>
</head>
<body>
    <div class="min-h-screen flex items-center justify-center p-4">
        <!-- Main Game Container: bg-white changed to bg-slate-800-dark -->
        <div class="game-container bg-slate-800-dark p-8 md:p-10 rounded-2xl shadow-2xl w-full max-w-lg transition-all duration-300 text-gray-100">
            
            <!-- Header: text-indigo-700 changed to text-indigo-400 -->
            <h1 class="text-4xl font-extrabold text-center text-indigo-400 mb-8 flex items-center justify-center">
                <span class="text-5xl mr-2">ðŸ§ </span>
                Math Mania
            </h1>

            <!-- Difficulty and Scores -->
            <div class="flex flex-col sm:flex-row justify-between items-center mb-6 space-y-3 sm:space-y-0">
                
                <!-- Difficulty Selector -->
                <div class="flex items-center space-x-2">
                    <label for="difficulty" class="text-base font-medium text-gray-200">Level:</label>
                    <select id="difficulty" onchange="resetGame()" 
                            class="p-2 border border-indigo-500 rounded-lg text-base font-semibold focus:ring-indigo-400 focus:border-indigo-400 transition duration-150 shadow-sm bg-slate-900-dark text-gray-100">
                        <option value="easy">Easy (1-10)</option>
                        <option value="medium">Medium (1-50)</option>
                        <option value="hard">Hard (1-100)</option>
                        <!-- NEW DIFFICULTY LEVELS ADDED BELOW -->
                        <option value="expert">Expert (5-200)</option>
                        <option value="insane">Insane (10-500)</option>
                    </select>
                </div>

                <!-- Scores: Score text changed to text-gray-100 -->
                <div class="text-right">
                    <p id="high-score" class="text-sm font-semibold text-yellow-400">High Score: 0</p>
                    <p id="score" class="text-2xl font-bold text-gray-100">Score: 0</p>
                </div>
            </div>

            <!-- Timer Display: bg-gray-100 changed to bg-slate-900-dark -->
            <div class="bg-slate-900-dark p-4 rounded-xl mb-8 flex justify-center shadow-inner">
                <!-- text-gray-900 changed to text-gray-200 (Default color, JS handles the rest) -->
                <p id="timer" class="text-3xl font-extrabold text-gray-200 transition-colors duration-200">Time Left: 60s</p>
            </div>

            <!-- Question Area: bg-indigo-50 changed to a darker background -->
            <div class="bg-indigo-900/40 p-6 rounded-xl mb-8 text-center border-4 border-indigo-600 shadow-md">
                <p id="question" class="text-5xl font-extrabold text-indigo-200 tracking-wider">Loading...</p>
            </div>

            <!-- Input and Submit -->
            <div class="flex flex-col space-y-4">
                <!-- Input: Added dark background and light text -->
                <input type="number" id="answer-input" placeholder="Enter your number (Press Enter)" 
                       class="w-full p-4 text-center text-2xl border-4 border-indigo-600 rounded-xl focus:border-indigo-400 focus:ring-indigo-400 transition duration-150 shadow-lg bg-slate-900-dark text-white" 
                       inputmode="numeric" />

                <button onclick="checkAnswer()" 
                        class="w-full bg-indigo-600 text-white py-4 rounded-xl font-extrabold text-xl hover:bg-indigo-500 transition duration-150 shadow-xl active:scale-95 disabled:opacity-50">
                    Submit Answer
                </button>
            </div>
            
            <!-- Feedback: Default text changed to text-gray-400 for visibility -->
            <p id="feedback" class="mt-6 text-center text-lg font-bold min-h-[1.5em] text-gray-400">Get ready!</p>
        </div>
    </div>

    <script>
        // JavaScript Logic
        let correctAnswer = 0;
        let score = 0;
        let highScore = 0;
        let timeRemaining = 60; 
        let timerInterval;
        let synth; // Tone.js synthesizer instance
        const gameContainer = document.querySelector('.game-container');

        // UPDATED DIFFICULTY RANGES
        const DIFFICULTY_RANGES = {
            easy: { min: 1, max: 10 },
            medium: { min: 1, max: 50 },
            hard: { min: 1, max: 100 },
            expert: { min: 5, max: 200 }, // New: Starts at 5, up to 200
            insane: { min: 10, max: 500 } // New: Starts at 10, up to 500
        };

        // --- Audio Setup (Using Tone.js) ---
        function setupAudio() {
            // Basic Synth for sound effects
            synth = new Tone.Synth({
                oscillator: { type: "sine" },
                envelope: {
                    attack: 0.01,
                    decay: 0.1,
                    sustain: 0.0,
                    release: 0.2
                }
            }).toDestination();
        }

        function playSound(type) {
            // Tone.js requires user interaction to start context, so we try to resume it.
            if (Tone.context.state !== 'running') {
                Tone.context.resume().catch(e => console.error("Could not resume audio context:", e));
            }
            if (!synth) return;

            try {
                switch (type) {
                    case 'correct':
                        synth.triggerAttackRelease("G5", "16n"); // High pitch chime
                        break;
                    case 'wrong':
                        synth.triggerAttackRelease("C3", "8n"); // Low pitch buzz
                        break;
                    case 'gameover':
                        // Simple descending triad for game over
                        synth.triggerAttackRelease(["E3", "C3"], "0.5"); 
                        break;
                }
            } catch (e) {
                console.error("Audio playback failed:", e);
            }
        }
        // ------------------------------------


        // --- Storage and Initialization Functions ---

        function loadHighScore() {
            const savedScore = localStorage.getItem('mathManiaHighScore');
            if (savedScore) {
                highScore = parseInt(savedScore);
            }
            document.getElementById('high-score').textContent = `High Score: ${highScore}`;
        }

        function checkAndSaveHighScore() {
            if (score > highScore) {
                highScore = score;
                localStorage.setItem('mathManiaHighScore', highScore);
                document.getElementById('high-score').textContent = `High Score: ${highScore} (NEW RECORD!)`;
            }
        }

        function initializeGame() {
            setupAudio(); // Initialize Tone.js
            loadHighScore();
            resetGame();
            
            // Add Event Listener for the Enter key
            document.getElementById('answer-input').addEventListener('keypress', function(event) {
                if (event.key === 'Enter') { 
                    event.preventDefault(); 
                    checkAnswer();
                }
            });
        }

        // --- Helper Functions ---

        function getRandomInt(min, max) {
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }

        // --- Game Logic ---

        function getNumberRange() {
            const difficultySelector = document.getElementById('difficulty');
            const level = difficultySelector.value;
            return DIFFICULTY_RANGES[level];
        }

        function generateQuestion() {
            const range = getNumberRange();
            const min = range.min;
            const max = range.max;
            
            let num1 = getRandomInt(min, max);
            let num2 = getRandomInt(min, max);

            // Operations: +, -, *, /
            const operations = ['+', '-', '*', '/']; 
            const operation = operations[getRandomInt(0, operations.length - 1)];

            switch (operation) {
                case '+':
                    correctAnswer = num1 + num2;
                    break;
                case '-':
                    // Ensure result is not negative
                    if (num1 < num2) { [num1, num2] = [num2, num1]; }
                    correctAnswer = num1 - num2;
                    break;
                case '*':
                    // Limit multiplication complexity on harder levels (max > 50 covers Hard, Expert, Insane)
                    if (max > 50) { 
                         num1 = getRandomInt(min, 12);
                         num2 = getRandomInt(min, 12);
                    }
                    correctAnswer = num1 * num2;
                    break;
                case '/':
                    // Ensure num1 is a multiple of num2 for clean division
                    const result = getRandomInt(1, 10);
                    // Ensure divisor is reasonable
                    num2 = getRandomInt(2, Math.min(10, Math.floor(max / result)) || 2); 
                    num1 = num2 * result;
                    correctAnswer = result; 
                    break;
            }

            const questionText = `${num1} ${operation} ${num2}`;
            document.getElementById('question').textContent = questionText;

            document.getElementById('answer-input').value = '';
            document.getElementById('feedback').textContent = '';
            document.getElementById('answer-input').focus();
        }

        function checkAnswer() {
            if (timeRemaining <= 0) return;

            const inputEl = document.getElementById('answer-input');
            const userAnswer = parseInt(inputEl.value);

            if (isNaN(userAnswer)) {
                document.getElementById('feedback').textContent = "Please enter a valid number!";
                document.getElementById('feedback').style.color = '#f59e0b'; // Tailwind amber-500
                return;
            }

            // Remove previous flash class
            gameContainer.classList.remove('flash-correct', 'flash-wrong');

            if (userAnswer === correctAnswer) {
                score++;
                document.getElementById('feedback').textContent = "âœ… Correct! +3s Bonus!";
                document.getElementById('feedback').style.color = '#34d399'; // Tailwind emerald-400 (brighter on dark)
                timeRemaining = Math.min(60, timeRemaining + 3); 
                
                // --- Feedback ---
                gameContainer.classList.add('flash-correct');
                playSound('correct');
                
            } else {
                score = Math.max(0, score - 1);
                document.getElementById('feedback').textContent = `âŒ Wrong! It was ${correctAnswer}. -2s Penalty.`;
                document.getElementById('feedback').style.color = '#f87171'; // Tailwind red-400 (brighter on dark)
                timeRemaining = Math.max(0, timeRemaining - 2); 
                
                // --- Feedback ---
                gameContainer.classList.add('flash-wrong');
                playSound('wrong');
            }

            document.getElementById('score').textContent = `Score: ${score}`;
            updateTimerDisplay();
            
            // Remove animation class after it ends
            gameContainer.addEventListener('animationend', () => {
                gameContainer.classList.remove('flash-correct', 'flash-wrong');
            }, { once: true });

            generateQuestion(); 
        }

        // --- Timer Functions ---

        function updateTimerDisplay() {
            const timerEl = document.getElementById('timer');
            timerEl.textContent = `Time Left: ${timeRemaining}s`;
            
            // Timer color based on time left (Updated for Dark Mode visibility)
            if (timeRemaining <= 10) {
                // Red - Urgent
                timerEl.classList.remove('text-gray-200', 'text-yellow-400');
                timerEl.classList.add('text-red-400');
            } else if (timeRemaining <= 20) {
                // Yellow - Warning
                timerEl.classList.remove('text-gray-200', 'text-red-400');
                timerEl.classList.add('text-yellow-400');
            } else {
                // Gray/White - Normal
                timerEl.classList.remove('text-red-400', 'text-yellow-400');
                timerEl.classList.add('text-gray-200');
            }
        }

        function countdown() {
            timeRemaining--;
            updateTimerDisplay();

            if (timeRemaining <= 0) {
                clearInterval(timerInterval);
                checkAndSaveHighScore();
                
                // Disable controls
                document.getElementById('answer-input').disabled = true;
                document.querySelector('button').disabled = true;
                document.getElementById('question').textContent = "---";
                
                document.getElementById('feedback').textContent = `ðŸ’¥ GAME OVER! Final Score: ${score}. Select a difficulty to play again.`;
                document.getElementById('feedback').style.color = '#818cf8'; // Tailwind indigo-300 (Visible on dark)
                
                playSound('gameover');
            }
        }

        function resetGame() {
            clearInterval(timerInterval); 
            
            score = 0;
            timeRemaining = 60;
            correctAnswer = 0;
            
            document.getElementById('score').textContent = `Score: 0`;
            document.getElementById('feedback').textContent = `Ready? Press submit or enter to start the clock!`;
            document.getElementById('feedback').style.color = '#9ca3af'; // Tailwind gray-400
            
            document.getElementById('answer-input').disabled = false;
            document.querySelector('button').disabled = false;
            document.getElementById('answer-input').value = '';
            gameContainer.classList.remove('flash-correct', 'flash-wrong');
            
            updateTimerDisplay();
            document.getElementById('high-score').textContent = `High Score: ${highScore}`;

            generateQuestion();
            
            // Start the timer
            timerInterval = setInterval(countdown, 1000); 
        }

        // Start the game setup
        window.onload = initializeGame;
    </script>
</body>
</html>